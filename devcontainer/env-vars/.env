## ==============================
## Dev container runtime settings
## ==============================

## Base OS image used to build devcontainer and celery service images.
DEVCONTAINER_OS_IMAGE=debian:13-slim

## Container timezone (used by tzdata/locales inside the image)
TZ=Europe/Rome

## Host user ID (keeps file ownership consistent on bind mounts)
UID=1000

## Host group ID (keeps file ownership consistent on bind mounts)
GID=1000

## Number of retry attempts for micromamba/conda-lock install steps
RETRY_ATTEMPTS=4

## Base retry delay in seconds; effective delay is base_delay * attempt_number
RETRY_DELAY_SECONDS=10

## Host data mount mode for HOST_DATA_DIR (true = read-only, false = read-write).
## Set HOST_DATA_DIR itself in devcontainer/env-vars/.env.secrets.
HOST_DATA_READ_ONLY=true

## Container path where HOST_DATA_DIR is mounted when using *-data-mount targets
HOST_DATA_MOUNT_PATH=/home/dev/data_external

## Symlink path created in the container pointing to HOST_DATA_MOUNT_PATH
HOST_DATA_SYMLINK_PATH=/home/dev/dev_container/workspace/data_external

## ==============================
## Dev container app ports
## ==============================

## Host port to expose JupyterLab
JUPYTER_PORT=8888

## Host port to expose Quarto live preview
QUARTO_PORT=4200

## ==============================
## Web application settings
## ==============================

## Host port to expose local web application app server (FastAPI/Flask/Django)
WEB_APP_PORT=8000

## ============================
## Additional services settings
## ============================
## Credentials and host data paths are in devcontainer/env-vars/.env.secrets.

## PostgreSQL
# POSTGRES_IMAGE=postgres:latest
# POSTGRES_CONTAINER_NAME=dev_postgres
# POSTGRES_HOST=postgres
# POSTGRES_PORT=5432
# POSTGRES_DB=app
# POSTGRES_USER=app

## MySQL
# MYSQL_IMAGE=mysql:latest
# MYSQL_CONTAINER_NAME=dev_mysql
# MYSQL_HOST=mysql
# MYSQL_PORT=3306
# MYSQL_DATABASE=app
# MYSQL_USER=app

# Redis
## Redis
# REDIS_IMAGE=redis:latest
# REDIS_CONTAINER_NAME=dev_redis
# REDIS_HOST=redis
# REDIS_PORT=6379

# Nginx
## Nginx
# NGINX_IMAGE=nginx:latest
# NGINX_CONTAINER_NAME=dev_nginx
# NGINX_HOST=nginx
# NGINX_HTTP_PORT=8081
# NGINX_HTTPS_PORT=8443

## Celery worker (optional)
# CELERY_BROKER_URL=redis://redis:6379/0
# CELERY_RESULT_BACKEND=redis://redis:6379/1

# CELERY_WORKER_IMAGE=dev_celery_worker
# CELERY_WORKER_CONTAINER_NAME=dev_celery_worker
# CELERY_WORKER_HOST=celery-worker
# CELERY_WORKDIR=/app
# CELERY_WORKER_COMMAND=celery -A app.celery worker --loglevel=info

# CELERY_BEAT_IMAGE=dev_celery_beat
# CELERY_BEAT_CONTAINER_NAME=dev_celery_beat
# CELERY_BEAT_HOST=celery-beat
# CELERY_BEAT_COMMAND=celery -A app.celery beat --loglevel=info

# FLOWER_IMAGE=dev_flower
# FLOWER_CONTAINER_NAME=dev_flower
# FLOWER_HOST=flower
# FLOWER_COMMAND=celery -A app.celery flower --port=5555
# FLOWER_PORT=5555
